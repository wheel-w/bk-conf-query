(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{102:function(t,e,a){"use strict";a.r(e);var n=a(103);var r=a.n(n);for(var i in n)if(i!=="default")(function(t){a.d(e,t,function(){return n[t]})})(i);e["default"]=r.a},103:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var n={data:function t(){return{data:[],pagination:{current:1,count:100,limit:10}}},methods:{fetchPageData:function t(){this.get_backup_records()},handlePageChange:function t(e){this.pagination.current=e;this.get_backup_records()},rowstyle:function t(e){var a=e.row,n=e.rowIndex;var r={};if(a.backup_file_name.indexOf("wheelwang")===-1){r.background="#e0838f";r.color="green";return r}else{return""}},formatDate:function t(e){var a=new Date(e);var n=a.getFullYear();var r=a.getMonth()+1;var i=a.getDate();var o=a.getHours();var c=a.getMinutes();var l=a.getSeconds();var u=n+"-"+(r<10?"0"+r:r)+"-"+(i<10?"0"+i:i)+" "+(o<10?"0"+o:o)+":"+(c<10?"0"+c:c)+":"+(l<10?"0"+l:l);return u},handleLimitChange:function t(e){this.pagination.limit=e;this.pagination.current=1;this.get_backup_records()},goDetail:function t(e){window.open("https://job.paas-edu.bktencent.com/".concat(e.bk_biz_id,"/execute/task/").concat(e.job_instance_id,"?from=historyList"))},get_backup_records:function t(){var e=this;var a=(this.pagination.current-1)*this.pagination.limit;this.$http.get("/api/backup_records/?start=".concat(a,"&limit=").concat(this.pagination.limit)).then(function(t){e.data=t.data;e.pagination.count=t.data})}}};e.default=n},104:function(t,e,a){},115:function(t,e,a){"use strict";var n=a(104);var r=a.n(n);var i=r.a},120:function(t,e,a){"use strict";var n=function(){var t=this;var e=t.$createElement;var a=t._self._c||e;return a("div",[a("div",{staticStyle:{height:"50px"}}),t._v(" "),a("div",{staticClass:"mr30 ml30"},[a("bk-table",{attrs:{data:t.data,"max-height":"calc(100vh - 250px)",height:"calc(100vh - 250px)",pagination:t.pagination},on:{"page-change":t.handlePageChange,"page-limit-change":t.handleLimitChange}},[a("bk-table-column",{attrs:{type:"index",label:t.$t("序列"),width:"70",align:"center"}}),t._v(" "),a("bk-table-column",{attrs:{label:t.$t("主机IP"),prop:"bk_host_innerip",align:"center"}}),t._v(" "),a("bk-table-column",{attrs:{label:t.$t("文件目录"),prop:"backup_directory",align:"center","show-overflow-tooltip":true}}),t._v(" "),a("bk-table-column",{attrs:{label:t.$t("文件名后缀"),prop:"file_suffix",align:"center"}}),t._v(" "),a("bk-table-column",{attrs:{label:t.$t("备份文件名"),prop:"backup_file_name",align:"center","show-overflow-tooltip":true},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.backup_file_name.indexOf("/data/wheel_test")!==-1?a("span",[t._v(t._s(e.row.backup_file_name))]):t._e()]}}])}),t._v(" "),a("bk-table-column",{attrs:{label:t.$t("状态"),prop:"backup_file_name",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.backup_file_name.indexOf("/data/wheel_test")!==-1?a("bk-tag",{attrs:{theme:"success",type:"filled"}},[t._v(t._s(t.$t("执行成功")))]):a("bk-tag",{attrs:{theme:"danger",type:"filled"}},[t._v(t._s(t.$t("执行失败")))])]}}])}),t._v(" "),a("bk-table-column",{attrs:{label:t.$t("备份时间"),prop:"backup_time",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(t.formatDate(e.row.backup_time))+"\n                ")]}}])}),t._v(" "),a("bk-table-column",{attrs:{label:t.$t("备份人"),prop:"backup_operator",align:"center"}}),t._v(" "),a("bk-table-column",{attrs:{label:t.$t("操作"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("bk-button",{staticClass:"mr10",attrs:{theme:"primary",text:""},on:{click:function(a){t.goDetail(e.row)}}},[t._v(t._s(t.$t("作业详情")))])]}}])})],1)],1)])};var r=[];a.d(e,"a",function(){return n});a.d(e,"b",function(){return r})},88:function(t,e,a){"use strict";a.r(e);var n=a(120);var r=a(102);for(var i in r)if(i!=="default")(function(t){a.d(e,t,function(){return r[t]})})(i);var o=a(115);var c=a(2);var l=Object(c["a"])(r["default"],n["a"],n["b"],false,null,"3b917f09",null);e["default"]=l.exports}}]);